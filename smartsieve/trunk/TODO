
required:
1. php-4.x
2. register_globals must be on (no longer true).
3. track vars on. should always be with php-4.x.
4. php must be compiled with imap support.
5. php-4.3.0 + openssl for socket ssl/tls support.
6. apache should be configured to check .htaccess files.
7. set session.save_path in php.ini to secure location.
8. PEAR with Crypt/HCEMD5.php or Crypt/Rc4.php.
9. cyrus-imap must be using sasl libraries (ie. for proxy authorization).
10. magic_quotes_runtime must be Off.

TODO:
- write a getConfValue() function to get config values cleanly.
- add support for mcrypt for encryption.
- handle Websieve's 'custom' rules.
- vacation and reject text abbreviation in rule summaries.
- view raw script option.
- should 'keep' be an action rather than an option?
- call getMailboxName from retrieveMailboxList.
- write a getScriptLine function to do rtrim, stripslashes, etc.
- move functions to SmartSieve class: rule.php:checkRule(), 
  vacation.php:checkRule(), writeToLog(), getFormValue(), setUrl().
- call checkRule(),checkVacation() from updateScript().
- add file/line number to log messages.
- change to handle unixhierarchysep ('/' instead of '.' in fileinto).
- cross site scripting: filter form data using htmlspecialchars and/or
  strip_tags().
- config options for other sieve rule options (forward, reject etc).
- improve sieve.lib:
    - fix socket hangs and timeouts in read().
    - do something with 'NO' responses, pehaps getError function.
    - add support for other sasl mechanisms.
    - add ssl socket support, either with the sieve starttls command, 
      or fsockopen('ssl://server....
    - undef $this->errstr.
    - return codes.
- vacation rule checkbox on main page.
- generic error function, to use when openSieveSession() fails.
- add $servers->imapflags value to conf/servers.php (?).


- support 'is' and 'matches' match types. will then support wildcard chars.
- issue HAVESPACE call before doing PUTSCRIPT as the spec suggests. havespace is broken 
  upto cyrus-imapd-2.0.16, so will have to handle this according to timsieved version.
- modify to handle magic_quotes_runtime = On (?)
- add support for sasl proxy authentication. will need to do something 
  with imap_open() on rule.php, perhaps write function which will return 
  list of mboxes which the proxy user has write access to.
  note: this will allow admin access to users scripts.
- help info.
- sieve.lib: read() should put read chars into $this->read_buf or similar.
  then read() can return true or false, and set $this->socket_err if socket 
  timed out or no bytes found at the socket.
- internationalization ?
- support other backends. eg. postgresql, BerkeleyDB, etc.
- drop down list for rule position on create rule page.


$Id$
