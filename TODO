SmartSieve - TODO

More htmlspecialchars()
Den's mbox_names_convert stuff
Handle referrals.
fix getForwardRule return zero/false bug in forward.php.
call $sieve->initialWorkingScript() from delete and rename actions of scripts.php.
maybe copy raw script text when renaming script in rename action of scripts.php.


TODO for 0.5.2

* finish work on i18n, merge i18n branch into CVS HEAD
* finish forward.php
* add direct edit mode
* fix digest-md5 authentication for cyrus-2.0.x
* add support for cram-md5 authentication
* move SieveSession object from $_SESSION to $GLOBALS scope.


TODO for 0.6

* remove dependency on c-client by adding hardcoded imap functions in PHP
* add support for proxy authorization
* do HAVESPACE before doing a PUTSCRIPT as the spec demands. HAVESPACE is broken up to 
  cyrus-2.0.16, so will need to handle this according to timsieved version
* move functions to SmartSieve class: rule.php:checkRule(),vacation.php:checkRule(), 
  writeToLog(), getFormValue(), setUrl()
* make use of sieve redirect, reject, etc configurable
* make it possible to supply other server options from login.php
* decide what to do with vacation rule checkbox on main.php
* add a function which sends an error page to the browser, for example when openSieveSession fails
* call getMailboxName from retrieveMailboxList
* write a getScriptLine function to do rtrim, stripslashes, etc. to read script safely
* add checks to make sure no HTML/javascript is written to a sieve script (htmlspecialchars strip_tags())
* make checkRule() checkVacation() more generic and call from updateScript()
* include file/line number to log messages
* make sure unixhierarchysep is handled properly
* solve potential socket hangs in SieveSession::read()
* put read buffer into $this->read_buf in SieveSession::read()
  SieveSession::read() can then return true or false, and set $this->socket_err if socket 
  timed out or no bytes found at the socket.

TODO for 0.7.0

* major rewrite of backend indexing code
* implement rule as an object
* write a generic error class similar to pearError
* parse server responses properly in sieve.lib

Miscellaneous TODOs

* add $servers->imapflags value to conf/servers.php (?).
* add view raw script option to main.php
* add drop down list for rule position on create rule page
* handle magic_quotes_runtime = 'On'
* write a getConfValue() function to get config values cleanly
* abbreviate vacation and reject text in summary lines on main.php
* investigate using STARTTLS or fsockopen('ssl://server...


$Id$
