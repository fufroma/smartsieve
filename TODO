SmartSieve - TODO


Move charset value for each locale to conf/locales.php.

TODO for 0.6

* test against Cyrus 2.2.x and virtual domains. handle domain in usernames
* allow user to switch script into direct edit mode
* fix mcrypt.php: MCRYPT_DEV_RANDOM->MCRYPT_RAND, keep IV, and mcrypt_generic_deinit
* add support for cram-md5 authentication
* move SieveSession object from $_SESSION to $GLOBALS scope
* handle referrals
* remove dependency on c-client by adding hardcoded imap functions in PHP
* fix mailbox list for proxy authorization
* do HAVESPACE before doing a PUTSCRIPT as the spec demands. HAVESPACE is broken up to 
  cyrus-2.0.16, so will need to handle this according to timsieved version
* move functions to SmartSieve class: rule.php:checkRule(),vacation.php:checkRule(), 
  writeToLog(), getFormValue(), setUrl()
* make use of sieve redirect, reject, etc configurable
* make it possible to supply other server options from login.php
* decide what to do with vacation rule checkbox on main.php
* add a function which sends an error page to the browser, for example when openSieveSession fails
* call getMailboxName from retrieveMailboxList
* write a getScriptLine function to do rtrim, stripslashes, etc. to read script safely
* add checks to make sure no HTML/javascript is written to a sieve script (htmlspecialchars strip_tags())
* make checkRule() checkVacation() more generic and call from updateScript()
* include file/line number to log messages
* make sure unixhierarchysep is handled properly

TODO for 0.7.0

* major rewrite of meta-indexing code
* implement rule as an object
* write a generic error class similar to pearError

Miscellaneous TODOs

* more htmlspecialchars()
* call $sieve->initialWorkingScript() from delete and rename actions of scripts.php
* copy raw script text when renaming script in rename action of scripts.php
* add $servers->imapflags value to conf/servers.php (?).
* add view raw script option to main.php
* add drop down list for rule position on create rule page
* handle magic_quotes_runtime = 'On'
* write a getConfValue() function to get config values cleanly
* abbreviate vacation and reject text in summary lines on main.php
* investigate using STARTTLS or fsockopen('ssl://server...


$Id$
